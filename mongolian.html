<html>
<head>
<title>Vertical-LR notepad - Mongolian</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
setInterval(function change() {
if (document.getElementById("check").checked == true){
var txta = window.getSelection();
document.getElementById('loop').innerHTML = txta;
$('#loop').each(function (index) {
    var characters = $(this).text().split("");
    $this = $(this);
    $this.empty();
    $.each(characters, function (i, el) {
    $this.append("<span class='span'>" + el + "</span>");
    });
});
var x = document.getElementsByClassName('span');
var i;
var langsel = document.getElementById("lang");
for (i = 0; i < x.length; i++) {
if (x[i].innerHTML == 'ᠠ') {x[i].innerHTML = "a";}
if (x[i].innerHTML == 'ᠡ') {x[i].innerHTML = "e";}
if (x[i].innerHTML == 'ᠢ') {x[i].innerHTML = "i";}
if (x[i].innerHTML == 'ᠣ') {x[i].innerHTML = "o";}
if (x[i].innerHTML == 'ᠤ') {x[i].innerHTML = "u";}
if (x[i].innerHTML == 'ᠥ') {x[i].innerHTML = "ö";}
if (x[i].innerHTML == 'ᠦ') {x[i].innerHTML = "ü";}
if (x[i].innerHTML == 'ᠧ') {x[i].innerHTML = "ē";}
if (x[i].innerHTML == 'ᠨ') {x[i].innerHTML = "n";}
if (x[i].innerHTML == 'ᠩ') {x[i].innerHTML = "ng";}
if (x[i].innerHTML == 'ᠫ') {x[i].innerHTML = "p";}
if (x[i].innerHTML == 'ᠪ') {x[i].innerHTML = "b";}
if (x[i].innerHTML == 'ᠬ') {x[i].innerHTML = "q";}
if (x[i].innerHTML == 'ᠭ') {x[i].innerHTML = "γ";}
if (x[i].innerHTML == 'ᠮ') {x[i].innerHTML = "m";}
if (x[i].innerHTML == 'ᠯ') {x[i].innerHTML = "l";}
if (x[i].innerHTML == 'ᠰ') {x[i].innerHTML = "s";}
if (x[i].innerHTML == 'ᠱ') {x[i].innerHTML = "š";}
if (x[i].innerHTML == 'ᠲ') {x[i].innerHTML = "t";}
if (x[i].innerHTML == 'ᠳ') {x[i].innerHTML = "d";}
if (x[i].innerHTML == 'ᠴ') {x[i].innerHTML = "č";}
if (x[i].innerHTML == 'ᠵ') {x[i].innerHTML = "ǰ";}
if (x[i].innerHTML == 'ᠶ') {x[i].innerHTML = "y";}
if (x[i].innerHTML == 'ᠷ') {x[i].innerHTML = "r";}
if (x[i].innerHTML == 'ᠸ') {x[i].innerHTML = "w";}
if (x[i].innerHTML == 'ᠹ') {x[i].innerHTML = "f";}
if (x[i].innerHTML == 'ᠺ'){x[i].innerHTML = "g";}
if (x[i].innerHTML == 'ᠻ') {x[i].innerHTML = "k";}
if (x[i].innerHTML == 'ᠼ') {x[i].innerHTML = "c";}
if (x[i].innerHTML == 'ᠽ') {x[i].innerHTML = "z";}
if (x[i].innerHTML == 'ᠾ') {x[i].innerHTML = "h";}
if (x[i].innerHTML == 'ᠿ') {x[i].innerHTML = "ž";}
if (x[i].innerHTML == 'ᡀ') {x[i].innerHTML = "lh";}
if (x[i].innerHTML == 'ᡁ') {x[i].innerHTML = "zh";}
if (x[i].innerHTML == 'ᡂ') {x[i].innerHTML = "ch";}

if (x[i].innerHTML == '᠐') {x[i].innerHTML = "0";}
if (x[i].innerHTML == '᠑') {x[i].innerHTML = "1";}
if (x[i].innerHTML == '᠒') {x[i].innerHTML = "2";}
if (x[i].innerHTML == '᠓') {x[i].innerHTML = "3";}
if (x[i].innerHTML == '᠔') {x[i].innerHTML = "4";}
if (x[i].innerHTML == '᠕') {x[i].innerHTML = "5";}
if (x[i].innerHTML == '᠖') {x[i].innerHTML = "6";}
if (x[i].innerHTML == '᠗') {x[i].innerHTML = "7";}
if (x[i].innerHTML == '᠘') {x[i].innerHTML = "8";}
if (x[i].innerHTML == '᠙') {x[i].innerHTML = "9";}
if (x[i].innerHTML == '᠁') {x[i].innerHTML = "...";}
if (x[i].innerHTML == '᠂') {x[i].innerHTML = ",";}
if (x[i].innerHTML == '᠃') {x[i].innerHTML = ".";}
if (x[i].innerHTML == '᠄') {x[i].innerHTML = "<span class='highlight'>\u003a</span>";}
if (x[i].innerHTML == '᠊') {x[i].innerHTML = "<span class='highlight'>&</span>";}
if (x[i].innerHTML == '\u180b') {x[i].innerHTML = "<span class='highlight'>\u0027</span>";}
if (x[i].innerHTML == '\u180c') {x[i].innerHTML = "<span class='highlight'>\u0022</span>";}
if (x[i].innerHTML == '\u180d') {x[i].innerHTML = "<span class='highlight'>`</span>";}
if (x[i].innerHTML == '\u180e') {x[i].innerHTML = "<span class='highlight'>_</span>";}
if (x[i].innerHTML == '\u200c') {x[i].innerHTML = "<span class='highlight'>^</span>";}
if (x[i].innerHTML == '\u200d') {x[i].innerHTML = "<span class='highlight'>*</span>";}
if (x[i].innerHTML == '\u202f') {x[i].innerHTML = "<span class='highlight'>-</span>";}
if (x[i].innerHTML == '︕') {x[i].innerHTML = "!";}
if (x[i].innerHTML == '︖') {x[i].innerHTML = "?";}
if (x[i].innerHTML == '︽') {x[i].innerHTML = "《";}
if (x[i].innerHTML == '︾') {x[i].innerHTML = "》";}
}
}
}, 100);
</script>
<style>
@import url(https://victorlee.github.io/mongol-fonts/stylesheet.css);
@import url(https://victorlee.github.io/manchu-fonts/stylesheet.css);
#popup {
  display: none;
  position:fixed;
  padding:0;
  margin:0;
  top:0;
  left:0;
  width: 100%;
  height: 100%;
  background: rgba(220,220,220,0.7);
  z-index: 1;
}
.popup {
  position:fixed;
  width:15rem;
  height:7rem;
  background-color: #fff;
  padding:1rem;
  border:5px solid #888;
  margin: 10% auto;
  left:0;
  right:0;
  text-align:center;
  font-size: 1.5rem;
  font-family: arial;
  line-height: 1.8;
}
.popup>button {
  font-family: arial;
  background-color: #eef;
  height: 2rem;
  border: solid 2px #aaa;
}
.popup>button:hover {
  background-color: #dde;
}
div {
    line-height: 1.4;
    height: 95%;
    min-width: 100%;
    outline: none; 
    border: none;
    cursor: text;
    writing-mode: vertical-lr;
    display: inline-block;
    font-size: 2.0rem;
    font-family: mongolian white;
}
::selection {
color: #000;
background: #ddd;
}
.input {
    position: fixed;
    bottom: 4px;
    right: 4px;
    resize: none;
    font-family: arial;
    text-align: right;
}
#loop {
    position: fixed;
    bottom: 0px;
    padding-bottom:1px;
    left: 4px;
    resize: none;
    max-width: 65%;
    max-height: 4.5rem;
    font-size: 1.3em; 
    overflow: auto;
    font-family: arial;
    background: rgba(255,255,255,0.8);
}
.highlight {color: red;}
</style>
</head>
<body>
<span id="popup">
  <span class="popup">
    language<br>
    <button onclick="document.getElementById('popup').style.display = 'none'" style="font-family:Menk Garqag Tig;font-size: 1.5rem;">ᠮᠣᠩᠭᠣᠯ ᠬᠡᠯᠡ</button>
    <button onclick="window.location.href='manchu.html'" style="font-family:XM_BH;font-size: 1.3rem;">ᠮᠠᠨᠵᡠ ᡤᡳᠰᡠᠨ</button>
    <button onclick="window.location.href='translingual.html'" style="font-family:arial;font-size:1rem;">translingual</button>
  </span>
</span>
<div id="body" spellcheck="false" contenteditable="true"></div>
<span class="loop">
<span id="loop"></span>
</span>
<span class="input">
translit.<input type="checkbox" id="check">
<button onclick="copyloop()">copy</button>
<select id="font" oninput="fontChange()">
<optgroup label="Serif" id="mongolfont1">
  <option value="Mongolian White">Mongolian White</option>
  <option value="Chagan">Chagan</option>
  <option value="Garchag">Garchag</option>
  <option value="Syurga">Syurga</option>
  <option value="Urga">Urga</option>
  <option value="Menksoft2012">Menksoft2012</option>
  <option value="Mongolian Baiti">Mongolian Baiti</option>
  <option value="Menk Qingming Tig">Menk Qingming Tig</option>
  <option value="Menk Mcdvnbar Tig">Menk Mcdvnbar Tig</option>
  <option value="Menk Tvgvrai Tig">Menk Tvgvrai Tig</option>
  <option value="Menk Budun Tig">Menk Budun Tig</option>
  <option value="Menk Hvlvsvn Tig">Menk Hvlvsvn Tig</option>
  <option value="Menk Qagan Tig">Menk Qagan Tig</option>
  <option value="Menk Ujug Tig">Menk Ujug Tig</option>
</optgroup>
<optgroup label="Sans-Serif" id="mongolfont2">
  <option value="Noto Sans Mongolian, sans-serif">Noto Sans Mongolian</option>
  <option value="Onon Sonin Sans, sans-serif">Onon Sonin Sans</option>
</optgroup>
<optgroup label="Cursive" id="mongolfont3">
  <option value="Mongolian Writing">Mongolian Writing</option>
  <option value="Bichimel">Bichimel</option>
  <option value="Menk Hawang Tig">Menk Hawang Tig</option>
  <option value="Menk Lhundb Tig">Menk Lhundb Tig</option>
  <option value="Menk Amglang Tig">Menk Amglang Tig</option>
  <option value="Menk Qimed Tig">Menk Qimed Tig</option>
</optgroup>
<optgroup label="Bold" id="mongolfont4">
  <option value="Mongolian Art">Mongolian Art</option>
  <option value="Mongolian Title">Mongolian Title</option>
  <option value="MongolianScript">MongolianScript</option>
  <option value="Menk Garqag Tig">Menk Garqag Tig</option>
  <option value="Menk Sidam Tig">Menk Sidam Tig</option>
</optgroup>
</select>
<select id="size" oninput="sizeChange()">
  <option value="1.0rem">1.0</option>
  <option value="1.1rem">1.1</option>
  <option value="1.2rem">1.2</option>
  <option value="1.3rem">1.3</option>
  <option value="1.4rem">1.4</option>
  <option value="1.5rem">1.5</option>
  <option value="1.6rem">1.6</option>
  <option value="1.7rem">1.7</option>
  <option value="1.8rem">1.8</option>
  <option value="1.9rem">1.9</option>
  <option value="2.0rem" selected="selected">2.0</option>
  <option value="2.2rem">2.2</option>
  <option value="2.4rem">2.4</option>
  <option value="2.6rem">2.6</option>
  <option value="2.8rem">2.8</option>
  <option value="3.0rem">3.0</option>
  <option value="3.2rem">3.2</option>
  <option value="3.4rem">3.4</option>
  <option value="3.6rem">3.6</option>
  <option value="3.8rem">3.8</option>
  <option value="4.0rem">4.0</option>
</select>
<input type="button" value="fix ?,!" id="offon" onclick="fixmark();">
<button onclick='printdiv()'>print</button>
<button onclick="document.getElementById('popup').style.display = 'block'">language</button>
</span>
<script>
var ce = document.querySelector('[contenteditable]')
ce.addEventListener('paste', function (e) {
  e.preventDefault()
  var text = e.clipboardData.getData('text/plain')
  document.execCommand('insertText', false, text)
})
document.getElementById('body').innerHTML = localStorage['body-mon'] || '';
setInterval(function() {
     localStorage['body-mon'] = document.getElementById('body').innerHTML;
});
(function() {
    function scrollHorizontally(e) {
        e = window.event || e;
        var delta = Math.max(-1, Math.min(1, (e.wheelDelta || -e.detail)));
        document.documentElement.scrollLeft -= (delta*50);
        document.body.scrollLeft -= (delta*50);
        e.preventDefault();
    }
    if (window.addEventListener) {
        window.addEventListener("mousewheel", scrollHorizontally, false);
        window.addEventListener("DOMMouseScroll", scrollHorizontally, false);
    } else {
        window.attachEvent("onmousewheel", scrollHorizontally);
    }
})();
function fontChange() {
  document.getElementById('body').style.fontFamily = document.getElementById('font').value;
}
function sizeChange() {
  document.getElementById('body').style.fontSize = document.getElementById('size').value;
}
function copyloop() {
var range = document.createRange();
range.selectNode(document.getElementById("loop"));
window.getSelection().removeAllRanges();
window.getSelection().addRange(range);
document.execCommand("copy");
window.getSelection().removeAllRanges();
}
function fixmark(){
var tx = document.getElementById('body');
 currentvalue = document.getElementById('offon').value;
  if(currentvalue == "fix ?,!"){
    document.getElementById("offon").value="undo";
    tx.innerHTML = tx.innerHTML.replaceAll("︖", "<span style='writing-mode:horizontal-tb'>?‍</span>");
    tx.innerHTML = tx.innerHTML.replaceAll("︕", "<span style='writing-mode:horizontal-tb'>!‍</span>");
  } else {
    document.getElementById("offon").value="fix ?,!";
    tx.innerHTML = tx.innerHTML.replaceAll("?‍", "︖");
    tx.innerHTML = tx.innerHTML.replaceAll("!‍", "︕");
  }
}
function printdiv() {
  var newstr = document.getElementById("body").innerHTML;
  var oldstr = document.body.innerHTML;
  document.body.innerHTML =
    "<html><head><title>file_name</title><style>body{line-height:1.4; outline:none; border:none; cursor:text; writing-mode:vertical-lr; display:inline-block; font-size:" + document.getElementById('size').value + "; font-family:" + document.getElementById('font').value + ";} @media print {body{break-inside:avoid; display:table; page-break-before:always;}}</style></head><body>" + newstr + "</body></html>";
    window.print();
    document.body.innerHTML = oldstr;
    document.getElementById('body').style.fontFamily = 'mongolian white';
    document.getElementById('body').style.fontSize = '2.0rem';
}
</script>
</body>
</html>
